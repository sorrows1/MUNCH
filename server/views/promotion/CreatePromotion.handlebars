{{!-- Eshton Stuff --}}
{{!--
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css"
    rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
--}}

<script>
    $(document).ready(function () {
        $("#generatePromotionCodeButton").click(function () {

            $.ajax({
                url: '/promotion/generateCode',
                type: 'POST',
                contentType: false,
                processData: false,
                'success': (res) => {
                    $('#PromotionCode').attr('value', res.response);
                    $('#PromotionCode').attr('disabled','disabled');

                }
            })
        });
    });

</script>

<form action="/promotion/createPromotions" method="post" id="addPromotionForm">

    <legend>
        <center>
            <h2><b>Create Promotion Form</b></h2>
        </center>
    </legend><br>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Promotion Name </label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="PromotionName" placeholder="Promotion Name" class="form-control" type="text"
                    id="PromotionName" value="{{PromotionName}}">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Limit Users</label>

        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Large
            modal</button>

        <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body">
                    
                    <div class="form-group">
                        <input type="text" class="form-control" id="promotion-limit-user-search" placeholder="search for email">
                    </div>
                    <hr>
                    <h6>Selected Users:</h6>
                    <ul>
                        <li></li>
                    </ul>
                    <hr>
                    <h6>Users:</h6>
                    <ul>
                        {{#each user}}
                            <li>{{dataValues.email}}</li>
                        {{/each}}
                    </ul>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Send message</button>
                </div>
            </div>
        </div>
    </div>

    {{!-- <div class="col-md-4 inputGroupContainer">
        <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
            <input name="EmailLimit" placeholder="" class="form-control" type="text" id="EmailLimit"
                value="{{EmailLimit}}">
        </div>
    </div> --}}
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Redemption Per Person</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="RedemptionPerPerson" placeholder="Redemption Per Person" class="form-control" type="number"
                    id="RedemptionPerPerson" min="1" value="{{RedemptionPerPerson}}">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Total Redemption</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="TotalRedemption" placeholder="Total Redemption" class="form-control" type="number"
                    id="TotalRedemption" min="1" value="{{TotalRedemption}}">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Promotion Amount </label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="PromotionAmount" placeholder="Promotion Amount" class="form-control" type="number"
                    id="PromotionAmount" min="0" value="{{PromotionAmount}}">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Promotion Code</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="PromotionCode" placeholder="Promotion Code" class="form-control" type="text"
                    id="PromotionCode" value="{{PromotionCode}}">
                    <button type="button" id="generatePromotionCodeButton">Generate Code</button>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Purpose</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>

                <textarea name="Purpose" placeholder="Purpose" id="Purpose" cols="30" rows="10">{{Purpose}}</textarea>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">Start Date</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="StartOfPromotion" placeholder="StartOfPromotion" class="form-control" type="date"
                    id="StartOfPromotion" value="{{defaultStartDate}}">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label">End Date</label>
        <div class="col-md-4 inputGroupContainer">
            <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-edit"></i></span>
                <input name="EndOfPromotion" placeholder="EndOfPromotion" class="form-control" type="date"
                    id="EndOfPromotion" value="{{endDate}}">
            </div>
        </div>
    </div>

    <!-- Button -->
    <div class="form-group">
        <label class="col-md-4 col-lg-12 control-label"></label>
        <div class="col-md-4"><br>
            <button type="submit" class="btn btn-warning" id="butAddPromotion">
                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSUBMIT <span
                    class="glyphicon glyphicon-send"></span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            </button>
        </div>
    </div>

</form>

{{!-- Eshton Stuff --}}

{{!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js"></script>
--}}